{% extends "admin/base.html" %}

{% block title %}Manage Customers{% endblock %}

{% block main %}
<div class="wide-container">
  <div class="row">
    <div class="col-md-12">
      <div class="subtitle">
        <h2 class="subtitle">Customer List</h2>
      </div>
    </div>
  </div>
  <div class="custom-container" style="text-align: left;">
    <form action="{{ url_for('view_manage_customers') }}" method="GET" class="form-inline">
        <div class="input-group mb-3">
            <input type="text" class="form-control" name="search_query" placeholder="Search for customers">
            <button type="submit" class="btn btn-outline-primary">
              Search
            </button>
        </div>
    </form>
</div>

<!-- Display the search query -->
<p>Search results for: {{ search_query }}</p>

  <table class="table table-bordered text-center table-hover">
    <thead>
      <tr class="bg-light-gray text-uppercase">
        <th>First Name</th><th>Last Name</th><th>Email</th><th>Phone</th><th>Address</th><th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for customer in customers %}
        <tr>
          <td>{{ customer[1] }}</td>
          <td>{{ customer[2] }}</td>
          <td>{{ customer[3] }}</td>
          <td>{{ customer[4] }}</td>
          <td>{{ customer[5] }}</td>
          <td>
            <a href="/admin/update_customer/{{ customer[0] }}" class="btn btn-primary">Update</a>
            <a href="/admin/delete_customer/{{ customer[0] }}" class="btn btn-outline-primary" onclick="return confirm('Are you sure you want to delete this customer?')">Delete</a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="custom-container" style="text-align: left;">
    <a href="/admin/add_customer" class="btn btn-primary">Add Customer</a>
  </div>
</div>
{% endblock %}
